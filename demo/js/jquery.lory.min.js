!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.lory=b()}):"object"==typeof exports?module.exports=b():a.lory=b()}(this,function(){"use strict";var a,b,c;!function(){var d,e=document.createElement("_").style;""===e[d="webkitTransition"]&&(c="webkitTransitionEnd",b=d),""===e[d="transition"]&&(c="transitionend",b=d),""===e[d="webkitTransform"]&&(a=d),""===e[d="msTransform"]&&(a=d),""===e[d="transform"]&&(a=d)}();var d=[].slice,e=function(a,b){if("undefined"==typeof b&&(b=a,a=0),a>b){var c=a;a=b,b=c}return function(c){return Math.min(Math.max(c,a),b)}},f=function(a,b){var c={};return Object.keys(b).map(function(d){a&&a.hasOwnProperty(d)?c[d]=a[d]:c[d]=b[d]}),c},g=function(g,h){var i,j,k,l,m,n=0,o={};"undefined"!=typeof jQuery&&g instanceof jQuery&&(g=g[0]);var p,q,r,s=g.querySelector(".js_frame"),t=s.querySelector(".js_slides"),u=g.querySelector(".js_prev"),v=g.querySelector(".js_next"),w={slidesToScroll:1,slideSpeed:300,rewindSpeed:600,snapBackSpeed:200,ease:"ease",rewind:!1,infinite:!1,beforeInit:function(){return!0},afterInit:function(){return!0},beforePrev:function(){return!0},beforeNext:function(){return!0},beforeMove:function(){return!0},beforeResize:function(){return!0}},x=function(a){var b=a.slice(0,o.infinite),e=a.slice(a.length-o.infinite,a.length);return b.forEach(function(a){var b=a.cloneNode(!0);t.appendChild(b)}),e.reverse().forEach(function(a){var b=a.cloneNode(!0);t.insertBefore(b,t.firstChild)}),t.addEventListener(c,E),d.call(t.children)},y=function(){o=f(h,w),o.beforeInit(),i={x:t.offsetLeft,y:t.offsetTop},l=o.infinite?x(d.call(t.children)):d.call(t.children),z(),u&&v&&(u.addEventListener("click",A),v.addEventListener("click",B)),t.addEventListener("touchstart",F),window.addEventListener("resize",I),o.afterInit()},z=function(){j=t.getBoundingClientRect().width||t.offsetWidth,k=s.getBoundingClientRect().width||s.offsetWidth,n=0,o.infinite?(C(-1*l[n+o.infinite].offsetLeft,0,null),n+=o.infinite,i.x=-1*l[n].offsetLeft):C(0,o.rewindSpeed,o.ease)},A=function(){o.beforePrev(),D(!1,!1)},B=function(){o.beforeNext(),D(!1,!0)},C=function(c,d,e){var f=t&&t.style;f&&(f[b+"TimingFunction"]=e,f[b+"Duration"]=d+"ms",f[a]="translateX("+c+"px)")},D=function(a,b){var c=j-k,d=e(0,l.length-1),f=e(-1*c,0),g=o.slideSpeed;"number"!=typeof a&&(a=b?n+o.slidesToScroll:n-o.slidesToScroll),a=d(a),o.infinite&&void 0===b&&(a+=o.infinite);var h=f(-1*l[a].offsetLeft);o.rewind&&Math.abs(i.x)===c&&b&&(h=0,a=0,g=o.rewindSpeed),C(h,g,o.ease),i.x=h,l[a].offsetLeft<=c&&(n=a),o.infinite&&Math.abs(h)===c&&b&&(n=o.infinite,i.x=-1*l[n].offsetLeft,m=function(){C(-1*l[n].offsetLeft,0,null)}),o.infinite&&0===Math.abs(h)&&!b&&(n=l.length-2*o.infinite,i.x=-1*l[n].offsetLeft,m=function(){C(-1*l[n].offsetLeft,0,null)})},E=function(){m&&(m(),m=void 0)},F=function(a){o.beforeMove();var b=a.touches[0];p={x:b.pageX,y:b.pageY,time:Date.now()},r=void 0,q={},t.addEventListener("touchmove",G),t.addEventListener("touchend",H)},G=function(a){var b=a.touches[0];q={x:b.pageX-p.x,y:b.pageY-p.y},"undefined"==typeof r&&(r=!!(r||Math.abs(q.x)<Math.abs(q.y))),r||C(i.x+q.x,0,null)},H=function(){var a=Date.now()-p.time,b=Number(a)<300&&Math.abs(q.x)>25||Math.abs(q.x)>k/3,c=!n&&q.x>0||n===l.length-1&&q.x<0,d=q.x<0;r||(b&&!c?D(!1,d):C(i.x,o.snapBackSpeed)),s.removeEventListener("touchmove"),s.removeEventListener("touchend")},I=function(){o.beforeResize(),z()};return y(),{slideTo:function(a){D(a)},returnIndex:function(){return n},setup:y,reset:z,prev:A,next:B}};return $.fn.lory=function(a){return this.each(function(){var b;$.data(this,"lory")||(b=$.extend({},a,$(this).data()),$.data(this,"lory",g(this,b)))})},g});